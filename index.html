<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Zuzana Postnatal Care & Beauty House - Pakar rawatan berpantang tradisional Melayu. Kursus SKM, terapi urutan, confinement lady berlesen.">
    <meta name="theme-color" content="#E8A598">
    
    <title>Zuzana Postnatal Care & Beauty House</title>
    
    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin>
    
    <!-- Preload critical resources -->
    <link rel="preload" href="media/Logo.png" as="image" fetchpriority="high">
    <link rel="preload" href="media/banner.jpg" as="image" fetchpriority="high">
    
    <!-- Critical CSS inline -->
    <style>
        :root {
            --rose: #E8A598;
            --rose-dark: #C9897E;
            --rose-light: #FADCD9;
            --cream: #FFF8F5;
            --gold: #D4AF37;
            --charcoal: #2C2C2C;
            --text: #3D3D3D;
            --white: #FFFFFF;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body { font-family: system-ui, -apple-system, sans-serif; background: var(--cream); color: var(--text); overflow-x: hidden; }
        
        /* Critical Preloader Styles */
        .preloader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, var(--rose-light) 0%, var(--cream) 100%); z-index: 9999; display: flex; flex-direction: column; justify-content: center; align-items: center; transition: opacity 0.5s, visibility 0.5s; }
        .preloader.hidden { opacity: 0; visibility: hidden; pointer-events: none; }
        .preloader-logo { width: 150px; animation: pulse-logo 2s infinite; }
        @keyframes pulse-logo { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
        .preloader-text { font-size: 1.2rem; color: var(--rose-dark); margin-top: 20px; letter-spacing: 3px; }
        .preloader-bar { width: 200px; height: 3px; background: rgba(232, 165, 152, 0.3); margin-top: 30px; border-radius: 3px; overflow: hidden; }
        .preloader-progress { height: 100%; width: 0%; background: linear-gradient(90deg, var(--rose), var(--gold)); transition: width 0.3s ease; }
        
        /* Critical Hero Styles */
        .hero { min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 100px 20px 80px; position: relative; background: linear-gradient(135deg, var(--rose-light) 0%, var(--cream) 100%); }
        .hero-content { text-align: center; max-width: 900px; }
        .hero-title { font-size: clamp(2rem, 8vw, 4rem); line-height: 1.1; color: var(--charcoal); margin-bottom: 20px; }
        .hero-title .accent { color: var(--rose); font-style: italic; }
        .hero-subtitle { font-size: 1rem; color: var(--text); max-width: 600px; margin: 0 auto 30px; line-height: 1.7; }
        .btn { display: inline-flex; align-items: center; gap: 8px; padding: 15px 30px; border-radius: 50px; font-size: 0.9rem; font-weight: 600; text-decoration: none; transition: transform 0.3s, box-shadow 0.3s; }
        .btn-whatsapp { background: linear-gradient(135deg, #25D366, #128C7E); color: white; box-shadow: 0 10px 30px rgba(37, 211, 102, 0.3); }
        .btn-whatsapp:hover { transform: translateY(-3px); box-shadow: 0 15px 40px rgba(37, 211, 102, 0.4); }
        .hero-visual { width: 100%; max-width: 800px; margin-top: 40px; }
        .hero-image-container { position: relative; border-radius: 20px; overflow: hidden; box-shadow: 0 30px 60px rgba(0,0,0,0.15); }
        .hero-image { width: 100%; height: auto; display: block; }
        
        /* Image Skeleton Loading */
        .img-skeleton { background: linear-gradient(90deg, var(--rose-light) 25%, var(--cream) 50%, var(--rose-light) 75%); background-size: 200% 100%; animation: shimmer 1.5s infinite; }
        @keyframes shimmer { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }
        
        /* Sticky WhatsApp */
        .sticky-whatsapp { position: fixed; bottom: 0; left: 0; right: 0; background: linear-gradient(90deg, #25D366, #128C7E); padding: 12px; z-index: 1000; display: flex; justify-content: center; align-items: center; gap: 10px; color: white; font-weight: 600; text-decoration: none; }
        @media (min-width: 768px) { .sticky-whatsapp { display: none; } }
        
        /* Section Base */
        .section { padding: 80px 20px; }
        .section-header { text-align: center; max-width: 700px; margin: 0 auto 50px; }
        .section-tag { font-size: 0.75rem; letter-spacing: 3px; text-transform: uppercase; color: var(--rose); }
        .section-title { font-size: clamp(1.8rem, 5vw, 3rem); color: var(--charcoal); margin: 15px 0; }
        
        /* Lazy loaded content fade in */
        .lazy-content { opacity: 0; transform: translateY(20px); transition: opacity 0.6s, transform 0.6s; }
        .lazy-content.loaded { opacity: 1; transform: translateY(0); }
    </style>
    
    <!-- Deferred Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;1,400&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;1,400&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet"></noscript>
    
    <!-- Deferred GSAP -->
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
</head>
<body>
    <!-- Optimized Preloader -->
    <div class="preloader" id="preloader">
        <img src="media/Logo.png" alt="Zuzana" class="preloader-logo" width="150" height="auto">
        <p class="preloader-text">ZUZANA POSTNATAL CARE</p>
        <div class="preloader-bar">
            <div class="preloader-progress" id="preloaderProgress"></div>
        </div>
    </div>
    
    <!-- Main Content -->
    <main id="main-content" style="opacity: 0; transition: opacity 0.5s;">
        
        <!-- Hero Section -->
        <section class="hero" id="home">
            <div class="hero-content">
                <p class="hero-tag">‚ú¶ Traditional Malay Postnatal Care ‚ú¶</p>
                <h1 class="hero-title">
                    ZUZANA<br>
                    <span class="accent">Postnatal Care</span><br>
                    & Beauty House
                </h1>
                <p class="hero-subtitle">
                    Pakar penyedia perkhidmatan penjagaan ibu bersalin tradisional Melayu dengan suntikan elemen moden kontemporari
                </p>
                <a href="https://wa.me/60182305009?text=Hi%20Zuzana%2C%20saya%20berminat" class="btn btn-whatsapp">
                    WhatsApp Kami
                </a>
            </div>
            
            <div class="hero-visual">
                <div class="hero-image-container">
                    <img src="media/banner.jpg" alt="Zuzana Postnatal Care" class="hero-image" width="800" height="450" fetchpriority="high" decoding="async">
                </div>
            </div>
        </section>
        
        <!-- About Section -->
        <section class="section" id="about" style="background: white;">
            <div class="section-header">
                <span class="section-tag">About Us</span>
                <h2 class="section-title">Tradisi Diyakini, <span style="color: var(--rose);">Kualiti Dijamin</span></h2>
            </div>
            <div style="max-width: 800px; margin: 0 auto; padding: 0 20px;">
                <p style="font-size: 1rem; line-height: 2; margin-bottom: 20px;">
                    Zuzana Postnatal Care & Beauty House adalah pakar penyedia perkhidmatan penjagaan dan rawatan ibu mengandung dan ibu bersalin tradisional Melayu dengan suntikan elemen moden kontemporari.
                </p>
                <p style="font-size: 1rem; line-height: 2; margin-bottom: 20px;">
                    Perkhidmatan kami amat komprehensif memberi tumpuan kepada kesembuhan sempurna kesan selepas bersalin.
                </p>
                <div style="background: linear-gradient(135deg, var(--rose-light), var(--cream)); padding: 25px; border-radius: 15px; border-left: 4px solid var(--rose); margin-top: 30px;">
                    <p style="font-style: italic; color: var(--rose-dark); font-size: 1.1rem;">Zuzana berbangga memberi yang terbaik agar wanita khususnya ibu bersalin kekal cantik luaran dan dalaman sehingga ke usia emas!</p>
                </div>
            </div>
        </section>
        
        <!-- Services Section - Lazy Loaded -->
        <section class="section" id="services" style="background: var(--cream);">
            <div class="section-header">
                <span class="section-tag">Our Services</span>
                <h2 class="section-title">Perkhidmatan <span style="color: var(--rose);">Lengkap</span></h2>
            </div>
            
            <div class="services-grid" id="servicesGrid">
                <!-- Services will be lazy loaded -->
            </div>
        </section>
        
        <!-- Courses Section -->
        <section class="section" id="courses" style="background: linear-gradient(135deg, var(--rose-light), var(--cream));">
            <div class="section-header">
                <span class="section-tag">SKM Training</span>
                <h2 class="section-title">Kursus <span style="color: var(--rose);">Bersijil</span></h2>
            </div>
            
            <div style="max-width: 900px; margin: 0 auto; padding: 0 20px;">
                <div style="background: white; border-radius: 25px; padding: 40px 30px; margin-bottom: 30px; box-shadow: 0 20px 60px rgba(0,0,0,0.08);">
                    <span style="display: inline-block; background: linear-gradient(135deg, var(--rose), var(--rose-dark)); color: white; padding: 8px 20px; border-radius: 50px; font-size: 0.75rem; font-weight: 600; margin-bottom: 20px;">SKM TAHAP 4</span>
                    <h3 style="font-size: 1.5rem; margin-bottom: 15px;">Penjagaan Ibu Selepas Bersalin</h3>
                    <ul style="list-style: none; margin: 20px 0;">
                        <li style="padding: 10px 0; padding-left: 30px; position: relative;"><span style="position: absolute; left: 0; color: var(--rose);">‚úì</span> Asas anatomi & fisiologi</li>
                        <li style="padding: 10px 0; padding-left: 30px; position: relative;"><span style="position: absolute; left: 0; color: var(--rose);">‚úì</span> Gabungan pengaan Melayu & Cina</li>
                        <li style="padding: 10px 0; padding-left: 30px; position: relative;"><span style="position: absolute; left: 0; color: var(--rose);">‚úì</span> Terapi urutan, tungku & bengkung</li>
                    </ul>
                    <div style="font-size: 1.8rem; color: var(--rose-dark); font-weight: 700; margin: 20px 0;">RM500 (3 Hari)</div>
                    <a href="https://wa.me/60182305009?text=Hi%20Zuzana%2C%20saya%20berminat%20dengan%20Kursus%20SKM%20Tahap%204" class="btn btn-whatsapp" style="padding: 12px 25px; font-size: 0.85rem;">Daftar via WhatsApp</a>
                </div>
                
                <div style="background: white; border-radius: 25px; padding: 40px 30px; box-shadow: 0 20px 60px rgba(0,0,0,0.08);">
                    <span style="display: inline-block; background: linear-gradient(135deg, var(--gold), #B8941F); color: white; padding: 8px 20px; border-radius: 50px; font-size: 0.75rem; font-weight: 600; margin-bottom: 20px;">SKM TAHAP 3</span>
                    <h3 style="font-size: 1.5rem; margin-bottom: 15px;">Terapi Urutan</h3>
                    <ul style="list-style: none; margin: 20px 0;">
                        <li style="padding: 10px 0; padding-left: 30px; position: relative;"><span style="position: absolute; left: 0; color: var(--rose);">‚úì</span> Urutan Kepala, Leher & Bahu</li>
                        <li style="padding: 10px 0; padding-left: 30px; position: relative;"><span style="position: absolute; left: 0; color: var(--rose);">‚úì</span> Urutan Kaki & Tangan</li>
                        <li style="padding: 10px 0; padding-left: 30px; position: relative;"><span style="position: absolute; left: 0; color: var(--rose);">‚úì</span> Urutan Satu Badan</li>
                    </ul>
                    <div style="font-size: 1.8rem; color: var(--rose-dark); font-weight: 700; margin: 20px 0;">RM100 / Modul</div>
                    <a href="https://wa.me/60182305009?text=Hi%20Zuzana%2C%20saya%20berminat%20dengan%20Kursus%20SKM%20Urutan%20Tahap%203" class="btn btn-whatsapp" style="padding: 12px 25px; font-size: 0.85rem;">Daftar via WhatsApp</a>
                </div>
            </div>
        </section>
        
        <!-- Gallery Section - Lazy Loaded with Intersection Observer -->
        <section class="section" id="gallery" style="background: white;">
            <div class="section-header">
                <span class="section-tag">Gallery</span>
                <h2 class="section-title">Aktiviti & <span style="color: var(--rose);">Kenangan</span></h2>
            </div>
            <div class="gallery-grid" id="galleryGrid" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; max-width: 1400px; margin: 0 auto; padding: 0 10px;">
                <!-- Gallery items lazy loaded -->
            </div>
        </section>
        
        <!-- Videos Section - Lazy Loaded -->
        <section class="section" id="videos" style="background: var(--cream);">
            <div class="section-header">
                <span class="section-tag">Videos</span>
                <h2 class="section-title">Testimoni & <span style="color: var(--rose);">Aktiviti</span></h2>
            </div>
            <div class="videos-grid" id="videosGrid" style="display: grid; grid-template-columns: 1fr; gap: 20px; max-width: 1200px; margin: 0 auto; padding: 0 20px;">
                <!-- Videos lazy loaded -->
            </div>
        </section>
        
        <!-- Contact Section -->
        <section id="contact" style="background: var(--charcoal); color: white; padding: 80px 20px 130px;">
            <div style="max-width: 1200px; margin: 0 auto;">
                <h3 style="font-size: 2rem; margin-bottom: 30px; color: var(--rose-light);">Hubungi Kami</h3>
                <p style="font-size: 1.1rem; margin-bottom: 20px; opacity: 0.9;">üìû <a href="tel:0182305009" style="color: white;">018-230 5009</a> (Pn. Zuzana)</p>
                <a href="https://wa.me/60182305009?text=Hi%20Zuzana%2C%20saya%20berminat" class="btn btn-whatsapp" style="margin: 20px 0;">WhatsApp Sekarang</a>
                
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; margin-top: 40px;">
                    <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 15px;">
                        <h4 style="color: var(--rose); margin-bottom: 8px;">üìç Selangor</h4>
                        <p style="font-size: 0.9rem; opacity: 0.8;">018-230 5009</p>
                    </div>
                    <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 15px;">
                        <h4 style="color: var(--rose); margin-bottom: 8px;">üìç Melaka</h4>
                        <p style="font-size: 0.9rem; opacity: 0.8;">018-230 5009</p>
                    </div>
                    <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 15px;">
                        <h4 style="color: var(--rose); margin-bottom: 8px;">üìç Kelantan</h4>
                        <p style="font-size: 0.9rem; opacity: 0.8;">018-230 5009</p>
                    </div>
                    <div style="background: rgba(255,255,255,0.05); padding: 20px; border-radius: 15px;">
                        <h4 style="color: var(--rose); margin-bottom: 8px;">üìç Pahang</h4>
                        <p style="font-size: 0.9rem; opacity: 0.8;">018-230 5009</p>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 60px; padding-top: 40px; border-top: 1px solid rgba(255,255,255,0.1); font-size: 0.85rem; opacity: 0.6;">
                <p>¬© 2024 Zuzana Postnatal Care & Beauty House</p>
                <p style="margin-top: 10px;"><a href="https://www.instagram.com/zuzana.postnatalcare.bn/" target="_blank" style="color: var(--rose);">Instagram</a></p>
            </div>
        </section>
        
    </main>
    
    <!-- Sticky WhatsApp Bar -->
    <a href="https://wa.me/60182305009?text=Hi%20Zuzana%2C%20saya%20berminat" class="sticky-whatsapp">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
        <span>WhatsApp 018-230 5009</span>
    </a>
    
    <!-- Lazy Loading Script -->
    <script>
        // Preloader with incremental loading simulation
        const preloaderProgress = document.getElementById('preloaderProgress');
        const preloader = document.getElementById('preloader');
        const mainContent = document.getElementById('main-content');
        
        let progress = 0;
        const loadingInterval = setInterval(() => {
            progress += Math.random() * 15;
            if (progress >= 100) {
                progress = 100;
                clearInterval(loadingInterval);
                setTimeout(() => {
                    preloader.classList.add('hidden');
                    mainContent.style.opacity = '1';
                }, 300);
            }
            preloaderProgress.style.width = progress + '%';
        }, 100);
        
        // Lazy load images and videos using Intersection Observer
        const imageObserverOptions = {
            root: null,
            rootMargin: '50px',
            threshold: 0.01
        };
        
        // Services data
        const services = [
            { img: 'media/therapy.jpg', icon: 'üå∏', title: 'Rawatan Berpantang', desc: 'Gabungan pengaan Melayu dan Cina, pemulihan dalaman & luaran.' },
            { img: 'media/postnatal.png', icon: 'üíÜ', title: 'Terapi Urutan', desc: 'Urutan tradisional untuk memulihkan tenaga dan melancarkan darah.' },
            { img: 'media/class_room-1.jpg', icon: 'üìö', title: 'Kursus & Latihan', desc: 'Kursus SKM berperingkat diiktiraf JPK.' },
            { img: 'media/WhatsApp-Image-2021-04-14-at-9.18.36-AM.jpeg', icon: 'üåø', title: 'Rawatan Herba', desc: 'Herba mandian, tungku, pilis, tapel dan tangas.' },
            { img: 'media/WhatsApp-Image-2021-04-14-at-9.18.37-AM.jpeg', icon: 'üçµ', title: 'Penjagaan Makanan', desc: 'Makanan berpantang nutritious.' },
            { img: 'media/311102997_114174694792622_4454411540854874517_n.jpg', icon: 'üë∂', title: 'Penjagaan Bayi', desc: 'Urut dan mandian bayi, confinement lady profesional.' }
        ];
        
        // Gallery images (first 12 for performance)
        const galleryImages = [
            'media/313215306_122796980597060_8817454446626957099_n.jpg',
            'media/313370307_122797033930388_9057729170759681961_n.jpg',
            'media/313390079_122797007263724_2539675042676175212_n.jpg',
            'media/313414484_123714960505262_6076404462728234940_n.jpg',
            'media/313417976_123714910505267_1443515281358431785_n.jpg',
            'media/313422348_123692570507501_4995280857045289573_n.jpg',
            'media/313426620_123692413840850_5167472257065259589_n.jpg',
            'media/313427352_123692327174192_8900886351680792196_n.jpg',
            'media/313432659_124304743779617_7903543963495659600_n.jpg',
            'media/313434263_124027393807352_6416100119173549964_n.jpg',
            'media/313438299_122796843930407_5147334203312886576_n.jpg',
            'media/313439566_123692383840853_4327948956419798648_n.jpg'
        ];
        
        // Videos
        const videos = [
            { src: 'media/WhatsApp-Video-2021-12-05-at-10.36.56-AM.mp4', poster: 'media/banner_001.jpg', title: 'Customer Testimony' },
            { src: 'media/WhatsApp-Video-2021-12-05-at-10.37.15-AM.mp4', poster: 'media/slide_banner1.jpg', title: 'Training Session' },
            { src: 'media/WhatsApp-Video-2021-12-05-at-10.37.15-AM-1.mp4', poster: 'media/therapy.jpg', title: 'Saloma Gala Nite' },
            { src: 'media/WhatsApp-Video-2021-12-05-at-10.37.18-AM.mp4', poster: 'media/postnatal.png', title: 'Beijing Customer' }
        ];
        
        // Render services lazily
        function renderServices() {
            const grid = document.getElementById('servicesGrid');
            grid.innerHTML = services.map((s, i) => `
                <div class="service-card" style="background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 10px 40px rgba(0,0,0,0.08); opacity: 0; transform: translateY(30px); transition: all 0.5s ease;" data-index="${i}">
                    <div class="img-skeleton" style="width: 100%; height: 200px;"></div>
                    <img data-src="${s.img}" alt="${s.title}" class="service-img" style="width: 100%; height: 200px; object-fit: cover; display: none;" loading="lazy" decoding="async">
                    <div style="padding: 25px;">
                        <div style="font-size: 2rem; margin-bottom: 10px;">${s.icon}</div>
                        <h3 style="font-size: 1.2rem; margin-bottom: 10px;">${s.title}</h3>
                        <p style="font-size: 0.9rem; color: #666; line-height: 1.6;">${s.desc}</p>
                    </div>
                </div>
            `).join('');
            
            // Observe service images
            const serviceObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        const skeleton = img.previousElementSibling;
                        img.onload = () => {
                            skeleton.style.display = 'none';
                            img.style.display = 'block';
                            img.parentElement.style.opacity = '1';
                            img.parentElement.style.transform = 'translateY(0)';
                        };
                        img.src = img.dataset.src;
                        serviceObserver.unobserve(img);
                    }
                });
            }, imageObserverOptions);
            
            document.querySelectorAll('.service-img').forEach(img => serviceObserver.observe(img));
        }
        
        // Render gallery lazily
        function renderGallery() {
            const grid = document.getElementById('galleryGrid');
            grid.innerHTML = galleryImages.map((src, i) => `
                <div class="gallery-item" style="position: relative; overflow: hidden; border-radius: 12px; aspect-ratio: 1; cursor: pointer; opacity: 0; transform: scale(0.9); transition: all 0.4s ease;" onclick="openModal('${src}')" data-index="${i}">
                    <div class="img-skeleton" style="width: 100%; height: 100%;"></div>
                    <img data-src="${src}" alt="Gallery" class="gallery-img" style="width: 100%; height: 100%; object-fit: cover; display: none;" loading="lazy" decoding="async">
                </div>
            `).join('');
            
            const galleryObserver = new IntersectionObserver((entries) => {
                entries.forEach((entry, index) => {
                    if (entry.isIntersecting) {
                        const img = entry.target;
                        const skeleton = img.previousElementSibling;
                        const item = img.parentElement;
                        img.onload = () => {
                            skeleton.style.display = 'none';
                            img.style.display = 'block';
                            setTimeout(() => {
                                item.style.opacity = '1';
                                item.style.transform = 'scale(1)';
                            }, index * 50);
                        };
                        img.src = img.dataset.src;
                        galleryObserver.unobserve(img);
                    }
                });
            }, imageObserverOptions);
            
            document.querySelectorAll('.gallery-img').forEach(img => galleryObserver.observe(img));
        }
        
        // Render videos lazily
        function renderVideos() {
            const grid = document.getElementById('videosGrid');
            grid.innerHTML = videos.map((v, i) => `
                <div class="video-card" style="background: white; border-radius: 20px; overflow: hidden; box-shadow: 0 15px 50px rgba(0,0,0,0.08); opacity: 0; transform: translateY(30px); transition: all 0.5s ease;" data-index="${i}">
                    <div class="video-placeholder" style="position: relative; padding-bottom: 56.25%; background: #222; cursor: pointer;" onclick="loadVideo(this, '${v.src}')">
                        <img src="${v.poster}" alt="${v.title}" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover;" loading="lazy" decoding="async">
                        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 60px; height: 60px; background: rgba(255,255,255,0.9); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                            <span style="font-size: 1.5rem; margin-left: 5px;">‚ñ∂</span>
                        </div>
                    </div>
                    <div style="padding: 20px;">
                        <h4 style="font-size: 1.1rem; margin-bottom: 5px;">${v.title}</h4>
                        <p style="font-size: 0.9rem; color: #888;">Zuzana Postnatal Care</p>
                    </div>
                </div>
            `).join('');
            
            // Fade in videos when visible
            const videoObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                        videoObserver.unobserve(entry.target);
                    }
                });
            }, imageObserverOptions);
            
            document.querySelectorAll('.video-card').forEach(card => videoObserver.observe(card));
        }
        
        // Load video on click (not auto)
        window.loadVideo = function(placeholder, src) {
            const video = document.createElement('video');
            video.controls = true;
            video.style.cssText = 'position: absolute; top: 0; left: 0; width: 100%; height: 100%;';
            video.innerHTML = `<source src="${src}" type="video/mp4">`;
            placeholder.innerHTML = '';
            placeholder.appendChild(video);
            video.play();
        };
        
        // Modal for gallery
        window.openModal = function(src) {
            const modal = document.createElement('div');
            modal.style.cssText = 'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 2000; display: flex; align-items: center; justify-content: center; padding: 20px;';
            modal.innerHTML = `
                <span style="position: absolute; top: 20px; right: 20px; color: white; font-size: 2rem; cursor: pointer;" onclick="this.parentElement.remove()">&times;</span>
                <img src="${src}" style="max-width: 100%; max-height: 90vh; border-radius: 10px;">
            `;
            modal.onclick = () => modal.remove();
            document.body.appendChild(modal);
        };
        
        // Initialize lazy loading when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initLazyLoading);
        } else {
            initLazyLoading();
        }
        
        function initLazyLoading() {
            // Render sections when they come into view
            const sectionObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.id;
                        if (id === 'services' && !entry.target.dataset.loaded) {
                            renderServices();
                            entry.target.dataset.loaded = 'true';
                        }
                        if (id === 'gallery' && !entry.target.dataset.loaded) {
                            renderGallery();
                            entry.target.dataset.loaded = 'true';
                        }
                        if (id === 'videos' && !entry.target.dataset.loaded) {
                            renderVideos();
                            entry.target.dataset.loaded = 'true';
                        }
                    }
                });
            }, { rootMargin: '100px' });
            
            ['services', 'gallery', 'videos'].forEach(id => {
                const el = document.getElementById(id);
                if (el) sectionObserver.observe(el);
            });
        }
        
        // Simple fade-in animation for above-fold content
        setTimeout(() => {
            document.querySelectorAll('.hero-title, .hero-subtitle, .btn').forEach((el, i) => {
                el.style.opacity = '0';
                el.style.transform = 'translateY(20px)';
                el.style.transition = 'all 0.6s ease';
                setTimeout(() => {
                    el.style.opacity = '1';
                    el.style.transform = 'translateY(0)';
                }, 300 + i * 100);
            });
        }, 500);
    </script>
</body>
</html>
